- name: Check if installed.
  ansible.builtin.set_fact:
    starship_path: "{{ lookup('first_found', files, skip=True) }}"
  vars:
    files:
      - /usr/bin/starship
      - /opt/homebrew/bin/starship

- name: Configure.
  when: starship_path
  ansible.builtin.include_tasks:
    file: configure.yml
