- name: create i3 config dir
  file:
    path: ~/.config/i3
    state: directory
    mode: 0750

- name: configure i3
  template:
    src: main.conf
    dest: ~/.config/i3/config
    validate: "i3 -C %s"
    trim_blocks: false
    lstrip_blocks: false
    mode: 0640
